âœ… Q1 : Route GET /hello
ğŸ”§ Code :
python
Copier
Modifier
from fastapi import FastAPI
from fastapi.responses import PlainTextResponse

app = FastAPI()

@app.get("/hello", response_class=PlainTextResponse)
def hello():
    return "Hello world"
ğŸ“® Postman :
MÃ©thode : GET

URL : http://localhost:8000/hello

Aucune donnÃ©e

Status code attendu : 200 OK

RÃ©ponse : Hello world

âœ… Q2 : Route GET /welcome?name=Ryan
ğŸ”§ Code :
python
Copier
Modifier
@app.get("/welcome")
def welcome(name: str):
    return {"message": f"Welcome {name}"}
ğŸ“® Postman :
MÃ©thode : GET

URL : http://localhost:8000/welcome?name=Ryan

RÃ©ponse : {"message": "Welcome Ryan"}

Status code : 200 OK

âœ… Q3 : Route POST /students (ajout dâ€™Ã©lÃ¨ves)
ğŸ”§ Code :
python
Copier
Modifier
from pydantic import BaseModel
from typing import List

students = []

class Student(BaseModel):
    Reference: str
    FirstName: str
    LastName: str
    Age: int

@app.post("/students", status_code=201)
def add_students(new_students: List[Student]):
    students.extend(new_students)
    return students
ğŸ“® Postman :
MÃ©thode : POST

URL : http://localhost:8000/students

Body (JSON) :

json
Copier
Modifier
[
  {
    "Reference": "S001",
    "FirstName": "Jean",
    "LastName": "Rakoto",
    "Age": 21
  },
  {
    "Reference": "S002",
    "FirstName": "Lisa",
    "LastName": "Raharinirina",
    "Age": 20
  }
]
Status code attendu : 201 Created

RÃ©ponse : liste des Ã©tudiants en mÃ©moire

âœ… Q4 : Route GET /students (afficher la liste)
ğŸ”§ Code :
python
Copier
Modifier
@app.get("/students")
def get_students():
    return students
ğŸ“® Postman :
MÃ©thode : GET

URL : http://localhost:8000/students

RÃ©ponse : liste des objets Ã©tudiants

Status code : 200 OK

âœ… Q5 : Route PUT /students (update ou insert)
ğŸ”§ Code :
python
Copier
Modifier
@app.put("/students")
def update_student(student: Student):
    for index, s in enumerate(students):
        if s.Reference == student.Reference:
            students[index] = student
            return {"message": "Student updated"}
    students.append(student)
    return {"message": "Student added"}
ğŸ“® Postman :
MÃ©thode : PUT

URL : http://localhost:8000/students

Body (JSON) :

json
Copier
Modifier
{
  "Reference": "S001",
  "FirstName": "Jean-ModifiÃ©",
  "LastName": "Rakoto",
  "Age": 22
}
RÃ©ponse : "Student updated" ou "Student added"

Status code : 200 OK ou personnalisable

âœ… Q6 : Captures dâ€™Ã©cran dans le dossier postman
CrÃ©e un dossier dans ton projet : postman/

Fais une capture dâ€™Ã©cran dans Postman pour chaque requÃªte (Q1 Ã  Q5)

Renomme chaque image : Q1.png, Q2.png, Q3.png, Q4.png, Q5.png

Chaque image = 1 point si la route fonctionne

ğŸŒŸ BONUS : Route sÃ©curisÃ©e GET /students-authorized
ğŸ”§ Code :
python
Copier
Modifier
from fastapi import Request
from fastapi.responses import JSONResponse
from starlette.status import HTTP_401_UNAUTHORIZED, HTTP_403_FORBIDDEN

@app.get("/students-authorized")
def get_students_authorized(request: Request):
    auth = request.headers.get("Authorization")
    if not auth:
        return JSONResponse(
            {"error": "Non autorisÃ©"},
            status_code=HTTP_401_UNAUTHORIZED
        )
    elif auth != "bon courage":
        return JSONResponse(
            {"error": "AccÃ¨s interdit"},
            status_code=HTTP_403_FORBIDDEN
        )
    return students
ğŸ“® Postman :
MÃ©thode : GET

URL : http://localhost:8000/students-authorized

Headers :

Authorization: bon courage

Statuts possibles :

âœ… 200 OK si tout va bien

âŒ 401 Unauthorized si header manquant

âŒ 403 Forbidden si mauvaise valeur